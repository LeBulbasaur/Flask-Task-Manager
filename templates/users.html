{% extends "bootstrap/base.html" %} {% block title %} User Manager {% endblock
%} {% block content %}

<a
  href="/"
  class="btn btn-primary mt-3"
  style="position: absolute; top: 1rem; right: 1rem"
  >Go back</a
>

<div
  class="container"
  style="
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    padding-top: 5rem;
  "
>
  {% with messages = get_flashed_messages() %} {% if messages %}
  <ul class="flashes list-group">
    {% for message in messages %}
    <li class="list-group-item">{{ message }}</li>
    {% endfor %}
  </ul>
  {% endif %} {% endwith %}
  <h1>Manage Users</h1>
  {% if users %}
  <ul class="list-group" style="width: 100%">
    {% for user in users %}
    <li class="list-group-item">
      <h2>{{ user.username }}</h2>
      <h4>role: <span style="font-style: italic">{{ user.role }}</span></h4>
      {% if user.role != 'admin' %}
      <a href="/user/{{ user.id }}/promote" class="btn btn-success">Promote</a>
      {% else %}
      <a href="/user/{{ user.id }}/demote" class="btn btn-warning">Demote</a>
      {% endif %}
      <a href="/user/{{ user.id }}/delete" class="btn btn-danger">Delete</a>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <h2>No users found</h2>
  {% endif %}
</div>
{% endblock %}
